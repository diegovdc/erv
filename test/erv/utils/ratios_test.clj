(ns erv.utils.ratios-test
  (:require
   [clojure.test :refer [deftest is]]
   [erv.utils.ratios :refer [seq-interval-analysis]]))

(deftest seq-interval-analysis-test
  (is (= {:rooted-seq
          [[1N "1/1" 0.0]
           [14/11 "2.7/11" 417.5079641043685]
           [3/2 "3/2" 701.9550008653874]
           [21/11 "3.7/11" 1119.4629649697556]
           [2N "2/1" 1200.0]]
          :pairs
          [[[4/3 56/33] [14/11 "2.7/11" 417.5079641043685]]
           [[56/33 2] [33/28 "3.11/2.2.7" 284.4470367610199]]
           [[2 28/11] [14/11 "2.7/11" 417.5079641043685]]
           [[28/11 8/3] [22/21 "2.11/3.7" 80.53703503024482]]]
          :ratio-factorization
          [[4/3 "2.2/3"]
           [56/33 "2.2.2.7/3.11"]
           [2 "2/1"]
           [28/11 "2.2.7/11"]
           [8/3 "2.2.2/3"]]}
         (seq-interval-analysis [4/3 56/33 2/1 28/11 8/3]))))
